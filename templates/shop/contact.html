{% extends 'base.html' %}
{% load static %}

{% block title %}Contact Us - King Dupatta House{% endblock %}

{% block extra_css %}
<style>
.contact-container {
    padding: 3rem 0;
    background: var(--grey-100);
    min-height: 70vh;
}

.contact-header {
    background: var(--gradient-primary);
    color: var(--white);
    padding: 3rem 0;
    margin-bottom: 3rem;
    border-radius: var(--radius-lg);
}

.contact-card {
    background: var(--white);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
    padding: 2.5rem;
    margin-bottom: 2rem;
    transition: var(--transition-normal);
}

.contact-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-lg);
}

.contact-icon {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    background: var(--primary-light);
    color: var(--primary-color);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    margin: 0 auto 1.5rem;
}

.contact-form {
    background: var(--white);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
    padding: 2.5rem;
}

.form-floating {
    margin-bottom: 1.5rem;
}

.form-control:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 0.2rem rgba(139, 69, 19, 0.25);
}

.contact-info-section {
    background: var(--white);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
    padding: 2.5rem;
}

.info-item {
    display: flex;
    align-items: center;
    padding: 1rem 0;
    border-bottom: 1px solid var(--grey-200);
}

.info-item:last-child {
    border-bottom: none;
}

.info-icon {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: var(--primary-light);
    color: var(--primary-color);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 1rem;
    flex-shrink: 0;
}

.info-content h6 {
    color: var(--dark);
    font-weight: 600;
    margin-bottom: 0.25rem;
}

.info-content p {
    color: var(--grey-600);
    margin: 0;
}

.working-hours {
    background: var(--gradient-primary);
    color: var(--white);
    border-radius: var(--radius-lg);
    padding: 2rem;
    margin-top: 2rem;
}

.hours-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

.hours-item:last-child {
    border-bottom: none;
}

.social-links {
    display: flex;
    gap: 1rem;
    margin-top: 2rem;
    justify-content: center;
}

.social-link {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: var(--primary-color);
    color: var(--white);
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    transition: var(--transition-normal);
    font-size: 1.2rem;
}

.social-link:hover {
    background: var(--accent-color);
    color: var(--white);
    transform: translateY(-3px);
}

.map-container {
    height: 400px;
    border-radius: var(--radius-lg);
    overflow: hidden;
    margin-top: 2rem;
    background: var(--grey-300);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--grey-600);
}

.faq-section {
    background: var(--white);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
    padding: 2.5rem;
    margin-top: 3rem;
}

.faq-item {
    border-bottom: 1px solid var(--grey-200);
    margin-bottom: 1.5rem;
    padding-bottom: 1.5rem;
}

.faq-item:last-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
}

.faq-question {
    font-weight: 600;
    color: var(--dark);
    margin-bottom: 0.75rem;
    font-size: 1.1rem;
}

.faq-answer {
    color: var(--grey-600);
    line-height: 1.6;
}

@media (max-width: 768px) {
    .contact-container {
        padding: 2rem 0;
    }
    
    .contact-header {
        padding: 2rem 0;
        margin-bottom: 2rem;
    }
    
    .contact-card,
    .contact-form,
    .contact-info-section,
    .faq-section {
        padding: 1.5rem;
    }
}
</style>
{% endblock %}

{% block content %}
<div class="contact-container">
    <div class="container">
        <!-- Contact Header -->
        <div class="contact-header text-center">
            <h1 class="display-5 mb-3">Get in Touch</h1>
            <p class="lead mb-0">We'd love to hear from you. Send us a message and we'll respond as soon as possible.</p>
        </div>

        <div class="row">
            <!-- Contact Form -->
            <div class="col-lg-8">
                <div class="contact-form">
                    <h3 class="mb-4">
                        <i class="fas fa-envelope me-2 text-primary"></i>Send us a Message
                    </h3>
                    
                    <form id="contactForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="text" class="form-control" id="firstName" placeholder="First Name" required>
                                    <label for="firstName">First Name *</label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="text" class="form-control" id="lastName" placeholder="Last Name" required>
                                    <label for="lastName">Last Name *</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="email" class="form-control" id="email" placeholder="Email" required>
                                    <label for="email">Email Address *</label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating">
                                    <input type="tel" class="form-control" id="phone" placeholder="Phone">
                                    <label for="phone">Phone Number</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-floating">
                            <select class="form-select" id="subject" required>
                                <option value="">Choose a subject</option>
                                <option value="general">General Inquiry</option>
                                <option value="order">Order Support</option>
                                <option value="returns">Returns & Exchanges</option>
                                <option value="shipping">Shipping Information</option>
                                <option value="product">Product Questions</option>
                                <option value="partnership">Business Partnership</option>
                                <option value="feedback">Feedback & Suggestions</option>
                            </select>
                            <label for="subject">Subject *</label>
                        </div>
                        
                        <div class="form-floating">
                            <textarea class="form-control" placeholder="Your message..." id="message" style="height: 120px" required></textarea>
                            <label for="message">Your Message *</label>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="newsletter">
                            <label class="form-check-label" for="newsletter">
                                Subscribe to our newsletter for latest updates and offers
                            </label>
                        </div>
                        
                        <button type="submit" class="btn btn-primary btn-lg">
                            <i class="fas fa-paper-plane me-2"></i>Send Message
                        </button>
                    </form>
                </div>

                <!-- FAQ Section -->
                <div class="faq-section">
                    <h3 class="mb-4">
                        <i class="fas fa-question-circle me-2 text-primary"></i>Frequently Asked Questions
                    </h3>
                    
                    <div class="faq-item">
                        <div class="faq-question">What is your return policy?</div>
                        <div class="faq-answer">We offer a 30-day return policy for all items in original condition with tags attached. Simply contact our customer service team to initiate a return.</div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">How long does shipping take?</div>
                        <div class="faq-answer">Standard shipping takes 5-7 business days, while express shipping takes 2-3 business days. We also offer same-day delivery in select cities.</div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">Do you offer size exchange?</div>
                        <div class="faq-answer">Yes! We offer free size exchanges within 30 days of purchase. Just make sure the item is in original condition with tags attached.</div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">What payment methods do you accept?</div>
                        <div class="faq-answer">We accept all major credit/debit cards, UPI payments, net banking, digital wallets, and cash on delivery for eligible orders.</div>
                    </div>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="col-lg-4">
                <div class="contact-info-section">
                    <h3 class="mb-4">
                        <i class="fas fa-map-marker-alt me-2 text-primary"></i>Contact Information
                    </h3>
                    
                    <div class="info-item">
                        <div class="info-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="info-content">
                            <h6>Phone Support</h6>
                            <p>+91 7860247786</p>
                            <small class="text-muted">Mon-Sat, 9 AM - 8 PM</small>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <div class="info-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="info-content">
                            <h6>Email Support</h6>
                            <p>Kingdupattahouse@gmail.com</p>
                            <small class="text-muted">We'll respond within 24 hours</small>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <div class="info-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="info-content">
                            <h6>Visit Our Store</h6>
                            <p>Akbari Gate, Near Nakkhas<br>Victoria Street, Nakkhas-226003<br>Lucknow, Uttar Pradesh</p>
                            <small class="text-muted">India</small>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <div class="info-icon">
                            <i class="fas fa-headset"></i>
                        </div>
                        <div class="info-content">
                            <h6>Live Chat</h6>
                            <p>Available 24/7</p>
                            <small class="text-muted">Click the chat icon below</small>
                        </div>
                    </div>
                    
                    <!-- Working Hours -->
                    <div class="working-hours">
                        <h5 class="mb-3">
                            <i class="fas fa-clock me-2"></i>Working Hours
                        </h5>
                        
                        <div class="hours-item">
                            <span>Monday - Friday</span>
                            <span>9:00 AM - 8:00 PM</span>
                        </div>
                        <div class="hours-item">
                            <span>Saturday</span>
                            <span>10:00 AM - 6:00 PM</span>
                        </div>
                        <div class="hours-item">
                            <span>Sunday</span>
                            <span>11:00 AM - 5:00 PM</span>
                        </div>
                    </div>
                    
                    <!-- Social Links -->
                    <div class="social-links">
                        <a href="#" class="social-link" title="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="social-link" title="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-link" title="Twitter">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-link" title="WhatsApp">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Contact Cards -->
        <div class="row mt-5">
            <div class="col-md-4">
                <div class="contact-card text-center">
                    <div class="contact-icon">
                        <i class="fas fa-shipping-fast"></i>
                    </div>
                    <h5>Order Support</h5>
                    <p class="text-muted mb-3">Need help with your order? Track shipment, modify delivery, or report issues.</p>
                    <a href="#" class="btn btn-outline-primary">Order Help</a>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="contact-card text-center">
                    <div class="contact-icon">
                        <i class="fas fa-undo-alt"></i>
                    </div>
                    <h5>Returns & Exchanges</h5>
                    <p class="text-muted mb-3">Easy returns and exchanges within 30 days. Free return pickup available.</p>
                    <a href="#" class="btn btn-outline-primary">Return Item</a>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="contact-card text-center">
                    <div class="contact-icon">
                        <i class="fas fa-ruler-combined"></i>
                    </div>
                    <h5>Size Guide</h5>
                    <p class="text-muted mb-3">Find your perfect fit with our comprehensive size guide and fitting tips.</p>
                    <a href="#" class="btn btn-outline-primary">Size Guide</a>
                </div>
            </div>
        </div>

        <!-- Map Section -->
        <div class="row mt-5">
            <div class="col-12">
                <h3 class="mb-4 text-center">
                    <i class="fas fa-map-marker-alt me-2 text-primary"></i>Find Our Store
                </h3>
                <div class="map-container">
                    <div class="text-center">
                        <i class="fas fa-map-marked-alt fa-3x mb-3"></i>
                        <h5>Interactive Map Coming Soon</h5>
                        <p class="mb-0">Akbari Gate, Near Nakkhas, Victoria Street, Nakkhas-226003, Lucknow, Uttar Pradesh</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    initializeContactForm();
});

function initializeContactForm() {
    const contactForm = document.getElementById('contactForm');
    
    contactForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Validate form
        if (!validateContactForm()) {
            return;
        }
        
        // Get form data
        const formData = {
            firstName: document.getElementById('firstName').value,
            lastName: document.getElementById('lastName').value,
            email: document.getElementById('email').value,
            phone: document.getElementById('phone').value,
            subject: document.getElementById('subject').value,
            message: document.getElementById('message').value,
            newsletter: document.getElementById('newsletter').checked
        };
        
        // Show loading state
        const submitBtn = contactForm.querySelector('button[type="submit"]');
        const originalText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Sending...';
        submitBtn.disabled = true;
        
        // Simulate sending message
        setTimeout(() => {
            // Show success message
            showNotification('Thank you! Your message has been sent successfully. We\'ll get back to you within 24 hours.', 'success');
            
            // Reset form
            contactForm.reset();
            
            // Reset button
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
            
            // Remove validation classes
            contactForm.querySelectorAll('.is-invalid').forEach(field => {
                field.classList.remove('is-invalid');
            });
            
        }, 2000);
    });
    
    // Real-time validation
    const requiredFields = ['firstName', 'lastName', 'email', 'subject', 'message'];
    requiredFields.forEach(fieldId => {
        const field = document.getElementById(fieldId);
        
        field.addEventListener('blur', () => {
            validateField(field);
        });
        
        field.addEventListener('input', () => {
            if (field.classList.contains('is-invalid')) {
                validateField(field);
            }
        });
    });
}

function validateContactForm() {
    const requiredFields = ['firstName', 'lastName', 'email', 'subject', 'message'];
    let isValid = true;
    
    requiredFields.forEach(fieldId => {
        const field = document.getElementById(fieldId);
        if (!validateField(field)) {
            isValid = false;
        }
    });
    
    // Validate email format
    const emailField = document.getElementById('email');
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (emailField.value && !emailRegex.test(emailField.value)) {
        emailField.classList.add('is-invalid');
        isValid = false;
    }
    
    if (!isValid) {
        showNotification('Please fill in all required fields correctly.', 'error');
    }
    
    return isValid;
}

function validateField(field) {
    if (!field.value.trim()) {
        field.classList.add('is-invalid');
        return false;
    } else {
        field.classList.remove('is-invalid');
        return true;
    }
}

function showNotification(message, type = 'info') {
    const notification = document.createElement('div');
    notification.className = `toast position-fixed top-0 end-0 m-3 bg-${type} text-white`;
    notification.style.zIndex = '9999';
    notification.innerHTML = `
        <div class="toast-body d-flex align-items-center">
            <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : type === 'warning' ? 'exclamation-triangle' : 'info-circle'} me-2"></i>
            ${message}
            <button type="button" class="btn-close btn-close-white ms-auto" onclick="this.closest('.toast').remove()"></button>
        </div>
    `;
    
    document.body.appendChild(notification);
    
    // Auto remove after 5 seconds
    setTimeout(() => {
        notification.style.opacity = '0';
        setTimeout(() => notification.remove(), 300);
    }, 5000);
}

// Social links hover effects
document.querySelectorAll('.social-link').forEach(link => {
    link.addEventListener('mouseenter', function() {
        this.style.transform = 'translateY(-3px) scale(1.1)';
    });
    
    link.addEventListener('mouseleave', function() {
        this.style.transform = 'translateY(0) scale(1)';
    });
});

// Contact cards animation
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
        }
    });
}, observerOptions);

document.querySelectorAll('.contact-card').forEach(card => {
    card.style.opacity = '0';
    card.style.transform = 'translateY(20px)';
    card.style.transition = 'all 0.6s ease';
    observer.observe(card);
});
</script>
{% endblock %}
